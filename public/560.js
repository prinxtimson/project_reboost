"use strict";(self.webpackChunksupreme=self.webpackChunksupreme||[]).push([[560],{3560:function(A,S,i){i.r(S),i.d(S,{SearchModule:function(){return B}});var _=i(3144),T=i(5671),a=i(9808),v=i(4902),C=i(5175),Z=i(7775),m=i(7224),h=i(5639),p=i(3075),s=i(500),t=i(1891),o=i(8185),k=i(5444),x=i(2929),U=i(9019),R=i(1748),y=i(4242),P=i(3184),I=i(8001);function E(n,c){if(1&n){var r=t.EpF();t.TgZ(0,"div",12)(1,"form",13)(2,"tag-input",14),t._UZ(3,"tag-input-dropdown",15),t.qZA()(),t.TgZ(4,"p",9),t._uU(5," Search Candidates by skill set. (10 max combinations) "),t.qZA(),t.TgZ(6,"div",16)(7,"button",17),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).search()}),t._uU(8," Search "),t.qZA()()()}if(2&n){var e=t.oxw(2);t.xp6(1),t.Q6J("formGroup",e.searchGroup),t.xp6(1),t.Q6J("maxItems",10)("onlyFromAutocomplete",!0)("secondaryPlaceholder","search..."),t.xp6(1),t.Q6J("autocompleteItems",e.skillSet)("limitItemsTo",5)("formGroup",e.searchGroup)("showDropdownIfEmpty",!0)}}function O(n,c){1&n&&(t.TgZ(0,"div",12),t._UZ(1,"facebook-content-loader"),t.qZA())}function w(n,c){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),t._UZ(7,"img",10),t.qZA(),t.TgZ(8,"h6",9),t._uU(9,"Tritek Careers"),t.qZA(),t.YNc(10,E,9,8,"div",11),t.YNc(11,O,2,0,"div",11),t.qZA()()()()()()),2&n){var r=t.oxw();t.xp6(10),t.Q6J("ngIf",r.dataLoaded),t.xp6(1),t.Q6J("ngIf",!r.dataLoaded)}}function J(n,c){if(1&n){var r=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31)(6,"div",32),t.NdJ("click",function(){var f=t.CHM(r).$implicit;return t.oxw(3).viewDetails(f)}),t._UZ(7,"app-uploads",33),t.qZA()(),t.TgZ(8,"div",34)(9,"div",28)(10,"div",35)(11,"div",36),t.NdJ("click",function(){var f=t.CHM(r).$implicit;return t.oxw(3).viewDetails(f)}),t.TgZ(12,"h3",37),t._uU(13),t.qZA()(),t.TgZ(14,"ul",38)(15,"li")(16,"div",39),t._uU(17,"Email:"),t.qZA(),t.TgZ(18,"div",40),t._uU(19,"*********"),t.qZA()(),t.TgZ(20,"li")(21,"div",39),t._uU(22,"Projects:"),t.qZA(),t.TgZ(23,"div",40),t._uU(24),t.qZA()(),t.TgZ(25,"li")(26,"div",39),t._uU(27,"Skill Sets:"),t.qZA(),t.TgZ(28,"div",40),t._uU(29),t.qZA()()()(),t.TgZ(30,"div",35)(31,"ul",38)(32,"li")(33,"div",39),t._uU(34,"Title:"),t.qZA(),t.TgZ(35,"div",40),t._uU(36),t.qZA()(),t.TgZ(37,"li",12)(38,"div",39),t._uU(39,"Bio:"),t.qZA(),t._UZ(40,"div",41),t.ALo(41,"sanitizeHtml"),t.qZA()()()()(),t.TgZ(42,"div",42)(43,"button",43),t.NdJ("click",function(){var f=t.CHM(r).$implicit;return t.oxw(3).viewDetails(f)}),t._UZ(44,"i",44),t.qZA()()()()()()()}if(2&n){var e=c.$implicit,u=t.oxw(3);t.xp6(7),t.Q6J("avatarUrl",e.avatar)("fileStorage",u.getPassport(e))("uploadLabel","")("disableUpload",!0)("uploadName",""),t.xp6(6),t.Oqu(e.name),t.xp6(11),t.Oqu(e.projectNo),t.xp6(5),t.Oqu(e.skills.length),t.xp6(7),t.Oqu(e.title),t.xp6(4),t.Q6J("innerHtml",t.lcZ(41,10,e.description),t.oJD)}}function M(n,c){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,J,45,12,"div",25),t.qZA()),2&n){var r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",r.response)}}function q(n,c){if(1&n){var r=t.EpF();t.TgZ(0,"div",3)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"form",13)(6,"tag-input",14),t._UZ(7,"tag-input-dropdown",15),t.qZA()()(),t.TgZ(8,"div",22)(9,"div",16)(10,"button",23),t.NdJ("click",function(){return t.CHM(r),t.oxw().search()}),t._uU(11," Search "),t.qZA()()()(),t.YNc(12,M,2,1,"div",24),t.qZA()()()}if(2&n){var e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.searchGroup),t.xp6(1),t.Q6J("maxItems",10)("onlyFromAutocomplete",!0)("secondaryPlaceholder","search..."),t.xp6(1),t.Q6J("autocompleteItems",e.skillSet)("limitItemsTo",5)("formGroup",e.searchGroup)("showDropdownIfEmpty",!0),t.xp6(5),t.Q6J("ngIf",e.response.length>0)}}function L(n,c){if(1&n){var r=t.EpF();t.TgZ(0,"div")(1,"app-profile-view",45),t.NdJ("closed",function(){return t.CHM(r),t.oxw().close()})("shortlisted",function(l){return t.CHM(r),t.oxw().shortlist(l)}),t.qZA()()}if(2&n){var e=t.oxw();t.xp6(1),t.Q6J("enableEdit",!1)("candidate",!0)("enableClose",!0)("enableShortlist",!0)("user",e.getUser(e.selCandidate))("profile",e.selCandidate)}}var b=function(){var n=function(){function c(r,e,u,l,d){(0,T.Z)(this,c),this.http=r,this.dataService=e,this.formBuilder=u,this.messageService=l,this.profileService=d,this.dataLoaded=!1,this.searchForm=new p.NI("",p.kI.required),this.view=1,this.selectedTerms=[],this.response=[]}return(0,_.Z)(c,[{key:"ngOnInit",value:function(){var e=this;this.profileService.getSkillSet().pipe((0,m.P)()).subscribe(function(u){e.skillSet=u.map(function(l){return l.skill}),e.allSkill=u.map(function(l){return l.skill}),e.dataLoaded=!0}),this.loginUser=this.dataService.getUser(),this.searchGroup=this.formBuilder.group({terms:["",p.kI.required]})}},{key:"search",value:function(){var e=this;if(!this.searchGroup.invalid){var u=this.searchGroup.controls.terms.value.map(function(d){return d.value});console.log(u),this.http.search({skills:u}).pipe((0,m.P)()).subscribe(function(d){e.response=d,e.view=2})}}},{key:"change",value:function(e){this.selectedTerms.length<6?this.selectedTerms=(0,v.Z)(e):this.messageService.add({severity:"warning",summary:"Maximum of 5 skillset combinations allowed"})}},{key:"getPassport",value:function(e){var u;return(null===(u=e.user)||void 0===u?void 0:u.passoprt)?[e.user.passport]:[new s.TX]}},{key:"viewDetails",value:function(e){this.selCandidate=e,this.view=3}},{key:"close",value:function(){this.view=2}},{key:"getUser",value:function(e){return e.user?e.user:new h.n5}},{key:"shortlist",value:function(e){var u=this;this.http.saveShortLists({id:e.id,action:"add"}).pipe((0,m.P)()).subscribe(function(){u.messageService.add({severity:"success",summary:e.name+" shortlisted"})})}}]),c}();return n.\u0275fac=function(r){return new(r||n)(t.Y36(C.o),t.Y36(o.D),t.Y36(p.qu),t.Y36(k.ez),t.Y36(Z.H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","animated fadeIn h-100",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"animated","fadeIn","h-100"],[1,"row","py-3","px-2"],[1,"mx-auto","my-auto"],[1,"my-auto"],[1,"row","justify-content-center"],[1,"col-md-8","align-self-center",2,"margin-top","20%"],[1,"text-center"],["src","assets/img/tritek-logo.png",1,"img-fluid",2,"height","60px"],["class","d-block",4,"ngIf"],[1,"d-block"],[3,"formGroup"],["formControlName","terms","placeholder","Search...",2,"width","100%",3,"maxItems","onlyFromAutocomplete","secondaryPlaceholder"],[3,"autocompleteItems","limitItemsTo","formGroup","showDropdownIfEmpty"],[1,"mt-2","text-center"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"row","py-3","px-4"],[1,"col-md-10","mx-auto","my-auto"],[1,"row","mb-3"],[1,"col-md-10","col-sm-9","mx-0","px-0"],[1,"col-sm-3","col-md-2","mx-0","px-0"],[1,"btn","btn-lg","btn-block","btn-primary",3,"click"],[4,"ngIf"],["class","card animated fadeIn",4,"ngFor","ngForOf"],[1,"card","animated","fadeIn"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"profile-view"],[1,"profile-img-wrap"],[1,"profile-img",3,"click"],[3,"avatarUrl","fileStorage","uploadLabel","disableUpload","uploadName"],[1,"profile-basic"],[1,"col-md-6"],[1,"profile-info-left",3,"click"],[1,"user-name","m-t-0","mb-0"],[1,"personal-info"],[1,"title"],[1,"text"],[1,"text",3,"innerHtml"],[1,"pro-edit"],["tooltip","View Profile",1,"edit-icon",3,"click"],[1,"fa","fa-eye"],[3,"enableEdit","candidate","enableClose","enableShortlist","user","profile","closed","shortlisted"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.YNc(1,w,12,2,"div",1),t.YNc(2,q,13,9,"div",1),t.YNc(3,L,2,6,"div",2),t.qZA()),2&r&&(t.Q6J("ngSwitch",e.view),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3))},directives:[a.RF,a.n9,a.O5,p._Y,p.JL,p.sg,x.m7,p.JJ,p.u,x.zP,U.kt,a.sg,R._,y.i9,P.H],pipes:[I.A],styles:["[_nghost-%COMP%]     .ng2-tag-input__text-input{background:transparent!important}[_nghost-%COMP%]     .bootstrap.ng2-tag-input{width:100%!important}[_nghost-%COMP%]     .ng2-tag-input{width:100%!important;background:transparent!important;border-bottom:2px solid #e8cd39!important}"]}),n}(),D=i(325),N=i(4572),F=i(8605),Q=i(9174),G=i(3174),Y=[{path:"",data:{title:"Search"},children:[{path:"",component:b,data:{title:""}}]}],B=function(){var n=(0,_.Z)(function c(){(0,T.Z)(this,c)});return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.ez,D.Bz.forChild(Y),x.vO,p.UX,N.v,U.GO,F.F,Q.m,G.q,y.z8.forRoot()]]}),n}()},5175:function(A,S,i){i.d(S,{o:function(){return m}});var _=i(5671),T=i(3144),a=i(4850),v=i(2171),C=i(1891),Z=i(520),m=function(){var h=function(){function p(s){(0,_.Z)(this,p),this.http=s,this.apiSearch=v.A.mainUrl+v.A.apiUrl+"/search",this.apiRequest=v.A.mainUrl+v.A.apiUrl+"/request",this.apiPages=v.A.mainUrl+v.A.apiUrl+"/snippets"}return(0,T.Z)(p,[{key:"search",value:function(t){return this.http.post(this.apiSearch,t).pipe((0,a.U)(function(o){return o}))}},{key:"getShortLists",value:function(){return this.http.get(this.apiSearch+"/shortlist").pipe((0,a.U)(function(t){return t}))}},{key:"getRecruiterShortLists",value:function(t){return this.http.get(this.apiSearch+"/shortlist/"+t).pipe((0,a.U)(function(o){return o}))}},{key:"getSearchAnalytics",value:function(t){return this.http.get(this.apiSearch+"/terms/"+t).pipe((0,a.U)(function(o){return o}))}},{key:"saveShortLists",value:function(t){return this.http.post(this.apiSearch+"/shortlist",t).pipe((0,a.U)(function(o){return o}))}},{key:"getRequest",value:function(){return this.http.get(this.apiRequest).pipe((0,a.U)(function(t){return t}))}},{key:"getRequestList",value:function(){return this.http.get(this.apiRequest+"/list").pipe((0,a.U)(function(t){return t}))}},{key:"getRecruiterRequest",value:function(t){return this.http.get(this.apiRequest+"/rid/"+t).pipe((0,a.U)(function(o){return o}))}},{key:"getRecruiterRequestList",value:function(t){return this.http.get(this.apiRequest+"/list/rid/"+t).pipe((0,a.U)(function(o){return o}))}},{key:"getCandidatesRequestList",value:function(t){return this.http.get(this.apiRequest+"/list/cid/"+t).pipe((0,a.U)(function(o){return o}))}},{key:"saveRequest",value:function(t){return this.http.post(this.apiRequest,t).pipe((0,a.U)(function(o){return o}))}},{key:"toggleRequestApproval",value:function(t){return this.http.get(this.apiRequest+"/toggle/"+t).pipe((0,a.U)(function(o){return o}))}},{key:"saveAllRequest",value:function(t){return this.http.post(this.apiRequest+"/all",t).pipe((0,a.U)(function(o){return o}))}},{key:"getToken",value:function(){return this.http.get(this.apiSearch+"/token").pipe((0,a.U)(function(t){return t}))}},{key:"getTokenPage",value:function(){return this.http.get(this.apiPages+"/name/token").pipe((0,a.U)(function(t){return t}))}},{key:"saveSnippet",value:function(t){return this.http.post(this.apiPages,t).pipe((0,a.U)(function(o){return o}))}},{key:"getPages",value:function(){return this.http.get(this.apiPages).pipe((0,a.U)(function(t){return t}))}},{key:"deletePages",value:function(t){return this.http.delete(this.apiPages+"/remove/"+t).pipe((0,a.U)(function(o){return o}))}}]),p}();return h.\u0275fac=function(s){return new(s||h)(C.LFG(Z.eN))},h.\u0275prov=C.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h}()}}]);