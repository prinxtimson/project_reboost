"use strict";(self.webpackChunksupreme=self.webpackChunksupreme||[]).push([[727],{1727:function(q,g,r){r.r(g),r.d(g,{FavouriteModule:function(){return X}});var _=r(3144),C=r(5671),d=r(9808),p=r(4902),U=r(5175),T=r(7775),f=r(7224),h=r(500),m=r(5639),s=r(3075),o=r(5560),e=r(1891),A=r(8185),S=r(5444),x=r(1748),y=r(853),R=r(4242),F=r(3184),P=r(8001);function k(n,c){if(1&n){var a=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(a),e.oxw(3).requestAll()}),e._UZ(1,"i",15),e._uU(2," Request "),e.qZA()}if(2&n){var t=e.oxw(3);e.Q6J("disabled",t.selCandidates.length<1)}}function N(n,c){if(1&n){var a=e.EpF();e.TgZ(0,"input",37),e.NdJ("change",function(i){e.CHM(a);var u=e.oxw().$implicit;return e.oxw(3).checkValue(i,u)}),e.qZA()}}function w(n,c){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&n){var a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.email," ")}}function b(n,c){1&n&&(e.TgZ(0,"div",33),e._uU(1," Awaiting Approval "),e.qZA())}function I(n,c){1&n&&(e.TgZ(0,"div",33),e._uU(1," Request Candidate "),e.qZA())}function E(n,c){if(1&n&&(e.TgZ(0,"li")(1,"div",30),e._uU(2,"Company Type:"),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA()()),2&n){var a=e.oxw().$implicit;e.xp6(4),e.Oqu(a.type)}}function J(n,c){if(1&n&&(e.TgZ(0,"li")(1,"div",30),e._uU(2,"Company Size:"),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA()()),2&n){var a=e.oxw().$implicit;e.xp6(4),e.Oqu(a.size)}}function L(n,c){if(1&n&&(e.TgZ(0,"li")(1,"div",30),e._uU(2,"Projects:"),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA()()),2&n){var a=e.oxw().$implicit;e.xp6(4),e.Oqu(a.projectNo)}}function O(n,c){if(1&n&&(e.TgZ(0,"li")(1,"div",30),e._uU(2,"Skill Sets:"),e.qZA(),e.TgZ(3,"div",33),e._uU(4),e.qZA()()),2&n){var a=e.oxw().$implicit;e.xp6(4),e.Oqu(a.skills.length)}}function M(n,c){if(1&n){var a=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){e.CHM(a);var i=e.oxw(2).$implicit;return e.oxw(3).delete(i)}),e._UZ(2,"i",44),e._uU(3," Remove "),e.qZA()()}}function D(n,c){1&n&&(e.TgZ(0,"div",38)(1,"button",39),e._UZ(2,"i",40),e.qZA(),e.YNc(3,M,4,0,"div",41),e.qZA())}function Y(n,c){if(1&n){var a=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20),e.YNc(5,N,1,0,"input",21),e.TgZ(6,"div",22)(7,"div",23),e.NdJ("click",function(){var v=e.CHM(a).$implicit;return e.oxw(3).viewDetails(v)}),e._UZ(8,"app-uploads",24),e.qZA()(),e.TgZ(9,"div",25)(10,"div",18)(11,"div",26)(12,"div",27),e.NdJ("click",function(){var v=e.CHM(a).$implicit;return e.oxw(3).viewDetails(v)}),e.TgZ(13,"h3",28),e._uU(14),e.qZA()(),e.TgZ(15,"ul",29)(16,"li")(17,"div",30),e._uU(18,"Email:"),e.qZA(),e.YNc(19,w,2,1,"div",31),e.YNc(20,b,2,0,"div",31),e.YNc(21,I,2,0,"div",31),e.qZA(),e.YNc(22,E,5,1,"li",32),e.YNc(23,J,5,1,"li",32),e.YNc(24,L,5,1,"li",32),e.YNc(25,O,5,1,"li",32),e.qZA()(),e.TgZ(26,"div",26)(27,"ul",29)(28,"li")(29,"div",30),e._uU(30,"Title:"),e.qZA(),e.TgZ(31,"div",33),e._uU(32),e.qZA()(),e.TgZ(33,"li",34)(34,"div",30),e._uU(35,"Bio:"),e.qZA(),e._UZ(36,"div",35),e.ALo(37,"sanitizeHtml"),e.qZA()()()()(),e.YNc(38,D,4,0,"div",36),e.qZA()()()()()}if(2&n){var t=c.$implicit,i=e.oxw(3);e.xp6(5),e.Q6J("ngIf",i.loginUser.companyName&&!i.requested.includes(t.id)),e.xp6(3),e.Q6J("avatarUrl",t.avatar)("fileStorage",i.getPassport(t))("uploadLabel","")("disableUpload",!0)("uploadName",""),e.xp6(6),e.hij(" ",t.name?t.name:t.companyName," "),e.xp6(5),e.Q6J("ngIf",i.loginUser.companyName&&i.requested.includes(t.id)&&i.approved.includes(t.id)),e.xp6(1),e.Q6J("ngIf",i.loginUser.companyName&&i.requested.includes(t.id)&&!i.approved.includes(t.id)),e.xp6(1),e.Q6J("ngIf",i.loginUser.companyName&&!i.requested.includes(t.id)),e.xp6(1),e.Q6J("ngIf",!i.loginUser.companyName),e.xp6(1),e.Q6J("ngIf",!i.loginUser.companyName),e.xp6(1),e.Q6J("ngIf",i.loginUser.companyName),e.xp6(1),e.Q6J("ngIf",i.loginUser.companyName),e.xp6(7),e.hij(" ",t.title?t.title:"Profile Title"," "),e.xp6(4),e.Q6J("innerHtml",e.lcZ(37,17,t.description),e.oJD),e.xp6(2),e.Q6J("ngIf",!i.loginUser.companyName)}}function Q(n,c){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h4"),e._uU(7),e.TgZ(8,"div",9),e.YNc(9,k,3,1,"button",10),e._UZ(10,"input",11),e.qZA()()()()(),e.TgZ(11,"div",12),e.YNc(12,Y,39,19,"div",13),e.qZA()()()()),2&n){var a=e.oxw(2);e.xp6(7),e.hij(" ",a.loginUser.companyName?"Shortlisted Candidates":"Potential Recruiters"," "),e.xp6(2),e.Q6J("ngIf",a.loginUser.companyName),e.xp6(1),e.Q6J("formControl",a.search),e.xp6(2),e.Q6J("ngForOf",a.dataSet)}}function j(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Q,13,4,"div",2),e.qZA()),2&n){var a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.dataLoaded)}}function H(n,c){if(1&n){var a=e.EpF();e.TgZ(0,"div")(1,"app-profile-view",45),e.NdJ("closed",function(){return e.CHM(a),e.oxw().close()}),e.qZA()()}if(2&n){var t=e.oxw();e.xp6(1),e.Q6J("enableEdit",!1)("candidate",!!t.loginUser.companyName)("enableClose",!0)("enableShortlist",!1)("user",t.getUser(t.selProfile))("profile",t.selProfile)}}var B=function(){var n=function(){function c(a,t,i,u,l,v){(0,C.Z)(this,c),this.http=a,this.dataService=t,this.messageService=i,this.confirmService=u,this.profileService=l,this.layoutService=v,this.view=1,this.dataSet=[],this.allData=[],this.dataLoaded=!1,this.search=new s.NI("",s.kI.required),this.selRecruiters=[],this.requested=[],this.approved=[]}return(0,_.Z)(c,[{key:"ngOnInit",value:function(){var t=this;this.loginUser=this.dataService.getUser(),this.profileService.getMyProfile().pipe((0,f.P)()).subscribe(function(i){t.loginProfile=i,t.loginUser.companyName?t.http.getRecruiterRequestList(i.id).pipe((0,f.P)()).subscribe(function(u){t.requested=u.filter(function(l){return l.requested}).map(function(l){return l.cid}),t.approved=u.filter(function(l){return l.approved}).map(function(l){return l.cid})}):t.http.getCandidatesRequestList(i.id).pipe((0,f.P)()).subscribe(function(u){return t.requested=u.filter(function(l){return l.requested}).map(function(l){return l.cid})})}),this.refresh(),this.search.valueChanges.subscribe(function(i){t.dataLoaded&&(t.dataSet=i.length<1?t.allData:t.allData.filter(function(u){var l,v;return(null===(l=u.name)||void 0===l?void 0:l.toLowerCase().includes(i.toLowerCase()))||(null===(v=u.companyName)||void 0===v?void 0:v.toLowerCase().includes(i.toLowerCase()))||c.flatSkills(u).includes(i.toLowerCase())}))})}},{key:"refresh",value:function(){var t=this;this.http.getFavourites().pipe((0,f.P)()).subscribe(function(i){t.dataSet=i,t.allData=i,t.dataLoaded=!0})}},{key:"getPassport",value:function(t){var i;return(null===(i=t.user)||void 0===i?void 0:i.passport)?[t.user.passport]:[new h.TX]}},{key:"viewDetails",value:function(t){this.selProfile=t,this.layoutService.profileView(t.user),this.view=2}},{key:"close",value:function(){this.view=1}},{key:"getUser",value:function(t){return t.user?t.user:new m.n5}},{key:"delete",value:function(t){var i=this;this.selProfile=t,this.confirmService.confirm({message:"Are you sure you want to remove "+t.companyName+" from favourite?",header:"Remove Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){i.http.saveFavourites({id:t.id,action:"remove"}).pipe((0,f.P)()).subscribe(function(){i.dataSet=i.dataSet.filter(function(v){return v!==t}),i.allData=i.allData.filter(function(v){return v!==t}),i.messageService.add({severity:"success",summary:"Remove Success",detail:t.companyName.toUpperCase()+" removed from list!"})})},reject:function(){}})}},{key:"request",value:function(t){var i=this;this.http.saveRequest({rid:this.loginProfile.id,cid:t.id,requested:!0}).pipe((0,f.P)()).subscribe(function(l){i.requested=[].concat((0,p.Z)(i.requested),[t.id]),i.messageService.add({severity:"success",summary:t.name+" detail request forwarded to Admin!"})})}},{key:"checkValue",value:function(t,i){t.target.checked?this.selRecruiters.push(i):this.selRecruiters=this.selRecruiters.filter(function(u){return u!=u})}},{key:"requestAll",value:function(){var t=this;if(!(this.selRecruiters.length<1)){var i=[];this.selRecruiters.forEach(function(u){i.push({rid:t.loginProfile.id,cid:u.id,requested:!0})}),this.http.saveAllRequest(i).pipe((0,f.P)()).subscribe(function(){t.requested=[].concat((0,p.Z)(t.requested),(0,p.Z)(i.map(function(u){return u.cid}))),t.selRecruiters=[],t.messageService.add({severity:"success",summary:"Selected candidates request forwarded to Admin"})})}}}],[{key:"flatSkills",value:function(t){return t.skills?t.skills.join(", ").toLowerCase():""}}]),c}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(U.o),e.Y36(A.D),e.Y36(S.ez),e.Y36(S.YP),e.Y36(T.H),e.Y36(o.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-favourite"]],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["class","animated fadeIn",4,"ngIf"],[1,"animated","fadeIn"],[1,"row","py-3","px-2"],[1,"mx-auto"],[1,"bg-white","shadow","rounded","overflow-hidden"],[1,"card","pb-0","mb-0"],[1,"card-header"],[1,"file-options","float-right","mr-2"],["class","btn btn-ghost-success btn-sm mr-3","title","Request Selected Candidates",3,"disabled","click",4,"ngIf"],["placeholder","Search",3,"formControl"],[1,"py-4"],["class","card animated fadeIn shadow",4,"ngFor","ngForOf"],["title","Request Selected Candidates",1,"btn","btn-ghost-success","btn-sm","mr-3",3,"disabled","click"],[1,"fa","fa-telegram"],[1,"card","animated","fadeIn","shadow"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"profile-view"],["type","checkbox",3,"change",4,"ngIf"],[1,"profile-img-wrap"],[1,"profile-img",3,"click"],[3,"avatarUrl","fileStorage","uploadLabel","disableUpload","uploadName"],[1,"profile-basic"],[1,"col-md-6"],[1,"profile-info-left",3,"click"],[1,"user-name","m-t-0","mb-0"],[1,"personal-info"],[1,"title"],["class","text",4,"ngIf"],[4,"ngIf"],[1,"text"],[1,"d-block"],[1,"text",3,"innerHtml"],["dropdown","","class","pro-edit",4,"ngIf"],["type","checkbox",3,"change"],["dropdown","",1,"pro-edit"],["dropdownToggle","","tooltip","Options",1,"edit-icon"],[1,"fa","fa-ellipsis-v"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"btn","btn-block","btn-sm","btn-ghost-danger",3,"click"],[1,"fa","fa-trash-o"],[3,"enableEdit","candidate","enableClose","enableShortlist","user","profile","closed"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.YNc(1,j,2,1,"div",1),e.YNc(2,H,2,6,"div",1),e.qZA()),2&a&&(e.Q6J("ngSwitch",t.view),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",2))},directives:[d.RF,d.n9,d.O5,s.Fj,s.JJ,s.oH,d.sg,x._,y.TO,y.Mq,R.i9,y.Hz,F.H],pipes:[P.A],styles:[""]}),n}(),z=r(325),$=r(8605),K=r(9174),W=r(3174),V=[{path:"",data:{title:"Favourite"},children:[{path:"",component:B,data:{title:""}}]}],X=function(){var n=(0,_.Z)(function c(){(0,C.Z)(this,c)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,z.Bz.forChild(V),$.F,K.m,R.z8.forRoot(),W.q,s.UX,y.mr]]}),n}()},5175:function(q,g,r){r.d(g,{o:function(){return f}});var _=r(5671),C=r(3144),d=r(4850),p=r(2171),U=r(1891),T=r(520),f=function(){var h=function(){function m(s){(0,_.Z)(this,m),this.http=s,this.apiSearch=p.A.mainUrl+p.A.apiUrl+"/search",this.apiRequest=p.A.mainUrl+p.A.apiUrl+"/request",this.apiPages=p.A.mainUrl+p.A.apiUrl+"/snippets"}return(0,C.Z)(m,[{key:"search",value:function(o){return this.http.post(this.apiSearch,o).pipe((0,d.U)(function(e){return e}))}},{key:"getShortLists",value:function(){return this.http.get(this.apiSearch+"/shortlist").pipe((0,d.U)(function(o){return o}))}},{key:"getFavourites",value:function(){return this.http.get(this.apiSearch+"/favourite").pipe((0,d.U)(function(o){return o}))}},{key:"getRecruiterShortLists",value:function(o){return this.http.get(this.apiSearch+"/shortlist/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"getCandidateFavourites",value:function(o){return this.http.get(this.apiSearch+"/favourite/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"getSearchAnalytics",value:function(o){return this.http.get(this.apiSearch+"/terms/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"saveShortLists",value:function(o){return this.http.post(this.apiSearch+"/shortlist",o).pipe((0,d.U)(function(e){return e}))}},{key:"saveFavourites",value:function(o){return this.http.post(this.apiSearch+"/favourite",o).pipe((0,d.U)(function(e){return e}))}},{key:"getRequest",value:function(){return this.http.get(this.apiRequest).pipe((0,d.U)(function(o){return o}))}},{key:"getRequestList",value:function(){return this.http.get(this.apiRequest+"/list").pipe((0,d.U)(function(o){return o}))}},{key:"getRecruiterRequest",value:function(o){return this.http.get(this.apiRequest+"/rid/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"getRecruiterRequestList",value:function(o){return this.http.get(this.apiRequest+"/list/rid/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"getCandidatesRequestList",value:function(o){return this.http.get(this.apiRequest+"/list/cid/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"saveRequest",value:function(o){return this.http.post(this.apiRequest,o).pipe((0,d.U)(function(e){return e}))}},{key:"toggleRequestApproval",value:function(o){return this.http.get(this.apiRequest+"/toggle/"+o).pipe((0,d.U)(function(e){return e}))}},{key:"saveAllRequest",value:function(o){return this.http.post(this.apiRequest+"/all",o).pipe((0,d.U)(function(e){return e}))}},{key:"getToken",value:function(){return this.http.get(this.apiSearch+"/token").pipe((0,d.U)(function(o){return o}))}},{key:"getTokenPage",value:function(){return this.http.get(this.apiPages+"/name/token").pipe((0,d.U)(function(o){return o}))}},{key:"saveSnippet",value:function(o){return this.http.post(this.apiPages,o).pipe((0,d.U)(function(e){return e}))}},{key:"getPages",value:function(){return this.http.get(this.apiPages).pipe((0,d.U)(function(o){return o}))}},{key:"deletePages",value:function(o){return this.http.delete(this.apiPages+"/remove/"+o).pipe((0,d.U)(function(e){return e}))}}]),m}();return h.\u0275fac=function(s){return new(s||h)(U.LFG(T.eN))},h.\u0275prov=U.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h}()}}]);